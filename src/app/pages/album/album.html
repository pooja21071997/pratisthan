<div class="container py-5" *ngIf="album">
  <!-- Album title -->
  <h2 class="text-danger fw-bold mb-5 text-center">
    {{ album.name }}
  </h2>

  <!-- If sub-albums exist -->
  <ng-container *ngIf="album.subAlbums?.length; else flatAlbum">
    <section *ngFor="let sub of album.subAlbums">
      <h4 class="text-danger fw-bold mb-3 mt-5">
        {{ sub.name }}
      </h4>

      <div class="row g-4">
        <ng-container *ngFor="let photo of sub.photos; trackBy: trackByPhoto">
          <div class="col-lg-4 col-md-6">
            <div class="photo-card shadow-sm">
              <img [src]="photo" [alt]="sub.name + ' photo'" loading="lazy" />
            </div>
          </div>
        </ng-container>
      </div>
    </section>
  </ng-container>

  <!-- No sub-albums -->
  <ng-template #flatAlbum>
    <div class="row g-4">
      <ng-container *ngFor="let photo of album.photos">
        <div class="col-lg-4 col-md-6">
          <div class="photo-card shadow-sm">
            <img [src]="photo" [alt]="album.name + ' photo'" loading="lazy" />
          </div>
        </div>
      </ng-container>
    </div>
  </ng-template>
</div>
